/*!
 * jquery slides plugin
 * Copyright 2011, Stefan Benicke (opusonline.at)
 * Dual licensed under the MIT or GPL Version 3 licenses.
 */
(function(e){var f={speed:350,crossfade:false,vertical:false,start:1,pagination:true,createPrevNext:true,createPagination:true,createPlayPause:true,createCaption:true,slideClass:"slide",currentClass:"current",captionClass:"slides_caption",containerClass:"slides_container",paginationClass:"slides_pagination",prevClass:"slides_prev",nextClass:"slides_next",prevText:"prev",nextText:"next",slideshow:true,autoplay:true,timeout:3000,hoverPause:true,slideshowClass:"slides_slideshow",slideshowPauseClass:"pause",playText:"play",pauseText:"pause",formatPaginationText:function(g){return g},animationStart:function(){},animationComplete:function(){}},b=window,d=function(B,l){var v=this,F=e(B),g=F.find("."+l.slideClass),h=g.size(),H=g.first(),z=H.width(),w=H.height(),I=l.start-1,i,t,D,x,y,r,j=function(){var K=e.data(this,"dir");v.slideshowPause();v.next(K)},q=function(){var K=e.data(this,"id");v.slideshowPause();v.go(K)},n=function(){if(r){v.slideshowPause()}else{v.slideshowStart()}},s=function(){J();if(l.createPrevNext){C()}if(l.pagination){if(l.createPagination){p()}m()}if(l.slideshow){if(l.createPlayPause){o()}E()}return v},J=function(){g.each(function(K){var L=this;if(l.createCaption){if(L.title){e(L).append('<div class="'+l.captionClass+'">'+L.title+"</div>");L.removeAttribute("title")}}if(K==I){L.style.display="block";return}if(l.crossfade){L.style.display="none"}else{L.style.display="block";u(L,l.vertical?w:z)}})},C=function(){var L=e('<span class="'+l.prevClass+'">'+l.prevText+"</span>").data("dir",-1).click(j),K=e('<span class="'+l.nextClass+'">'+l.nextText+"</span>").data("dir",1).click(j);F.append(L,K)},p=function(){var K='<ul class="'+l.paginationClass+'">';for(var L=0;L<h;L++){var M=l.formatPaginationText(L+1);K+="<li>"+M+"</li>"}F.append(K)},m=function(){D=[];F.find("ul."+l.paginationClass).first().on("click","li",q).find("li").each(function(K){var L=e(this);L.data("id",K);if(K==I){x=L.addClass(l.currentClass)}D.push(L)})},o=function(){y=e('<span class="'+l.slideshowClass+'">'+l.playText+"</span>").click(n);F.append(y)},E=function(){if(l.hoverPause){F.on("mouseenter","."+l.slideClass,function(){v.slideshowPause()}).on("mouseleave","."+l.slideClass,function(){v.slideshowStart()})}if(l.autoplay){v.slideshowStart()}},G=function(K,O){if(i){return}if(K<0){K=0}if(K>h-1){K=h-1}if(I==K){return}var N=g.eq(I),L=g.eq(K);i=1;l.animationStart.call(L,K+1);if(l.crossfade){N[0].style.zIndex=1;L[0].style.display="block";N.fadeOut(l.speed,function(){this.style.zIndex=0;i=0;l.animationComplete.call(L,K+1)})}else{var M=l.vertical?O*w:O*z;u(L,M);A(N,-M);A(L,0,l.animationComplete,K+1)}I=K;k()},k=function(){var K=D[I];if(!K){return}if(x){x.removeClass(l.currentClass)}x=K.addClass(l.currentClass)},A=function(N,K,O,M){var L=l.vertical?{top:K}:{left:K};N.animate(L,l.speed,function(){i=0;if(O){O.call(N,M)}})},u=function(L,K){if(L.length){L=L[0]}if(l.vertical){L.style.top=K+"px"}else{L.style.left=K+"px"}};v.next=function(L){var K=I+L;if(K==-1){K=h-1}if(K==h){K=0}G(K,L)};v.go=function(K){var L=I<K?1:-1;G(K,L)};v.slideshowStart=function(){if(!r&&y){y.html(l.pauseText).addClass(l.slideshowPauseClass)}r=1;t=b.setTimeout(function(){v.next(1);v.slideshowStart()},l.timeout)};v.slideshowPause=function(){r=0;if(y){y.html(l.playText).removeClass(l.slideshowPauseClass)}clearTimeout(t)};return s()},a=function(g){return this.each(function(){var h=e.data(this,"slides");if(!h){return}g(h)})},c={init:function(g){g=e.extend({},f,g);return this.each(function(){var h=this;var i=new d(h,g);e.data(h,"slides",i)})},go:function(g){return a.call(this,function(h){h.go(g-1)})},prev:function(){return a.call(this,function(g){g.next(-1)})},next:function(){return a.call(this,function(g){g.next(1)})},play:function(){return a.call(this,function(g){g.slideshowStart()})},pause:function(){return a.call(this,function(g){g.slideshowPause()})}};e.fn.slides=function(g){if(c[g]){return c[g].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof g==="object"||!g){return c.init.apply(this,arguments)}else{e.error("Method "+g+" does not exist on jQuery.slides")}}}})(jQuery);